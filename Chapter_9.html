<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="Asciidoctor 0.1.4">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chapter 9. Error Handling</title>
<style>
/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }
/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }
/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }
/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }
script { display: none !important; }
/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }
/** Remove default margin. */
body { margin: 0; }
/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }
/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }
/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }
/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }
/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }
/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }
/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }
/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }
/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }
/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }
/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }
/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }
/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }
/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }
sup { top: -0.5em; }
sub { bottom: -0.25em; }
/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }
/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }
/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }
/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }
/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }
/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }
/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }
/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }
/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }
/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }
/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }
/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }
/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }
/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }
/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }
/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }
meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }
meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }
meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }
*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }
html, body { font-size: 100%; }
body { background: white; color: rgba(0, 0, 0, 0.8); padding: 0; margin: 0; font-family: "Noto Serif", "DejaVu Serif", serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }
a:hover { cursor: pointer; }
img, object, embed { max-width: 100%; height: auto; }
object, embed { height: 100%; }
img { -ms-interpolation-mode: bicubic; }
#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }
.left { float: left !important; }
.right { float: right !important; }
.text-left { text-align: left !important; }
.text-right { text-align: right !important; }
.text-center { text-align: center !important; }
.text-justify { text-align: justify !important; }
.hide { display: none; }
.antialiased, body { -webkit-font-smoothing: antialiased; }
img { display: inline-block; vertical-align: middle; }
textarea { height: auto; min-height: 50px; }
select { width: 100%; }
p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }
.subheader, .admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { line-height: 1.45; color: #7a2518; font-weight: normal; margin-top: 0; margin-bottom: 0.25em; }
/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }
/* Default Link Styles */
a { color: #2156a5; text-decoration: underline; line-height: inherit; }
a:hover, a:focus { color: #1d4b8f; }
a img { border: none; }
/* Default paragraph styles */
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }
/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: "Open Sans", "DejaVu Sans", sans-serif; font-weight: 300; font-style: normal; color: #ba3925; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.0125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #e99b8f; line-height: 0; }
h1 { font-size: 2.125em; }
h2 { font-size: 1.6875em; }
h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }
h4 { font-size: 1.125em; }
h5 { font-size: 1.125em; }
h6 { font-size: 1em; }
hr { border: solid #ddddd8; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }
/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }
strong, b { font-weight: bold; line-height: inherit; }
small { font-size: 60%; line-height: inherit; }
code { font-family: "Droid Sans Mono", "DejaVu Sans Mono", "Monospace", monospace; font-weight: normal; color: rgba(0, 0, 0, 0.9); }
/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }
ul, ol { margin-left: 1.5em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.5em; }
/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }
/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }
/* Definition Lists */
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }
/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: rgba(0, 0, 0, 0.8); border-bottom: 1px dotted #dddddd; cursor: help; }
abbr { text-transform: none; }
/* Blockquotes */
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: 0.9375em; color: rgba(0, 0, 0, 0.6); }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: rgba(0, 0, 0, 0.6); }
blockquote, blockquote p { line-height: 1.6; color: rgba(0, 0, 0, 0.85); }
/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }
.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }
@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.2; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 1px #dedede; }
table thead, table tfoot { background: #f7f8f7; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: rgba(0, 0, 0, 0.8); text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: rgba(0, 0, 0, 0.8); }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f8f8f7; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.6; }
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.2; word-spacing: -0.05em; }
h1 strong, h2 strong, h3 strong, #toctitle strong, .sidebarblock > .content > .title strong, h4 strong, h5 strong, h6 strong { font-weight: 400; }
.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }
*:not(pre) > code { font-size: 0.9375em; font-style: normal !important; letter-spacing: 0; padding: 0.1em 0.5ex; word-spacing: -0.15em; background-color: #f7f7f8; -webkit-border-radius: 4px; border-radius: 4px; line-height: 1.45; text-rendering: optimizeSpeed; }
pre, pre > code { line-height: 1.45; color: rgba(0, 0, 0, 0.9); font-family: "Droid Sans Mono", "DejaVu Sans Mono", "Monospace", monospace; font-weight: normal; text-rendering: optimizeSpeed; }
.keyseq { color: rgba(51, 51, 51, 0.8); }
kbd { display: inline-block; color: rgba(0, 0, 0, 0.8); font-size: 0.75em; line-height: 1.4; background-color: #f7f7f7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }
.keyseq kbd:first-child { margin-left: 0; }
.keyseq kbd:last-child { margin-right: 0; }
.menuseq, .menu { color: rgba(0, 0, 0, 0.8); }
b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }
b.button:before { content: "["; padding: 0 3px 0 2px; }
b.button:after { content: "]"; padding: 0 2px 0 3px; }
p a > code:hover { color: rgba(0, 0, 0, 0.9); }
#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }
#content { margin-top: 1.25em; }
#content:before { content: none; }
#header > h1:first-child { color: rgba(0, 0, 0, 0.85); margin-top: 2.25rem; margin-bottom: 0; }
#header > h1:first-child + #toc { margin-top: 8px; border-top: 1px solid #ddddd8; }
#header > h1:only-child, body.toc2 #header > h1:nth-last-child(2) { border-bottom: 1px solid #ddddd8; padding-bottom: 8px; }
#header .details { border-bottom: 1px solid #ddddd8; line-height: 1.45; padding-top: 0.25em; padding-bottom: 0.25em; padding-left: 0.25em; color: rgba(0, 0, 0, 0.6); display: -ms-flexbox; display: -webkit-flex; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; }
#header .details span:first-child { margin-left: -0.125em; }
#header .details span.email a { color: rgba(0, 0, 0, 0.85); }
#header .details br { display: none; }
#header .details br + span:before { content: "\00a0\2013\00a0"; }
#header .details br + span.author:before { content: "\00a0\22c5\00a0"; color: rgba(0, 0, 0, 0.85); }
#header .details br + span#revremark:before { content: "\00a0|\00a0"; }
#header #revnumber { text-transform: capitalize; }
#header #revnumber:after { content: "\00a0"; }
#content > h1:first-child:not([class]) { color: rgba(0, 0, 0, 0.85); border-bottom: 1px solid #ddddd8; padding-bottom: 8px; margin-top: 0; padding-top: 1rem; margin-bottom: 1.25rem; }
#toc { border-bottom: 1px solid #efefed; padding-bottom: 0.5em; }
#toc > ul { margin-left: 0.125em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin: 0.5em 0; }
#toc ul { font-family: "Open Sans", "DejaVu Sans", sans-serif; list-style-type: none; }
#toc a { text-decoration: none; }
#toc a:active { text-decoration: underline; }
#toctitle { color: #7a2518; font-size: 1.2em; }
@media only screen and (min-width: 768px) { #toctitle { font-size: 1.375em; }
  body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { margin-top: 0 !important; background-color: #f8f8f7; position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #efefed; border-top-width: 0 !important; border-bottom-width: 0 !important; z-index: 1000; padding: 1.25em 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: 0.9em; margin-bottom: 0; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right-width: 0; border-left: 1px solid #efefed; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #e0e0dc; margin-bottom: 1.25em; padding: 1.25em; background: #f8f8f7; -webkit-border-radius: 4px; border-radius: 4px; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }
#footer { max-width: 100%; background-color: rgba(0, 0, 0, 0.8); padding: 1.25em; }
#footer-text { color: rgba(255, 255, 255, 0.8); line-height: 1.44; }
.sect1 { padding-bottom: 0.625em; }
@media only screen and (min-width: 768px) { .sect1 { padding-bottom: 1.25em; } }
.sect1 + .sect1 { border-top: 1px solid #efefed; }
#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; z-index: 1001; width: 1.5ex; margin-left: -1.5ex; display: block; text-decoration: none !important; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: "\00A7"; font-size: 0.85em; display: block; padding-top: 0.1em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #ba3925; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #a53221; }
.audioblock, .imageblock, .literalblock, .listingblock, .stemblock, .videoblock { margin-bottom: 1.25em; }
.admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-rendering: optimizeLegibility; text-align: left; font-family: "Noto Serif", "DejaVu Serif", serif; font-size: 1rem; font-style: italic; }
table.tableblock > caption.title { white-space: nowrap; overflow: visible; max-width: 0; }
.paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { color: rgba(0, 0, 0, 0.85); }
table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }
.admonitionblock > table { border-collapse: separate; border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; font-family: "Open Sans", "DejaVu Sans", sans-serif; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #ddddd8; color: rgba(0, 0, 0, 0.6); }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }
.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 4px; border-radius: 4px; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }
.sidebarblock { border-style: solid; border-width: 1px; border-color: #e0e0dc; margin-bottom: 1.25em; padding: 1.25em; background: #f8f8f7; -webkit-border-radius: 4px; border-radius: 4px; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock > .content > .title { color: #7a2518; margin-top: 0; text-align: center; }
.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }
.literalblock pre, .listingblock pre:not(.highlight), .listingblock pre[class="highlight"], .listingblock pre[class^="highlight "], .listingblock pre.CodeRay, .listingblock pre.prettyprint { background: #f7f7f8; }
.sidebarblock .literalblock pre, .sidebarblock .listingblock pre:not(.highlight), .sidebarblock .listingblock pre[class="highlight"], .sidebarblock .listingblock pre[class^="highlight "], .sidebarblock .listingblock pre.CodeRay, .sidebarblock .listingblock pre.prettyprint { background: #f2f1f1; }
.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { -webkit-border-radius: 4px; border-radius: 4px; word-wrap: break-word; padding: 1em; font-size: 0.8125em; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.90625em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 1em; } }
.literalblock.output pre { color: #f7f7f8; background-color: rgba(0, 0, 0, 0.9); }
.listingblock pre.highlightjs { padding: 0; }
.listingblock pre.highlightjs > code { padding: 1em; -webkit-border-radius: 4px; border-radius: 4px; }
.listingblock pre.prettyprint { border-width: 0; }
.listingblock > .content { position: relative; }
.listingblock code[data-lang]:before { display: none; content: attr(data-lang); position: absolute; font-size: 0.75em; top: 0.425rem; right: 0.5rem; line-height: 1; text-transform: uppercase; color: #999; }
.listingblock:hover code[data-lang]:before { display: block; }
.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }
.listingblock.terminal pre .command:not([data-prompt]):before { content: "$"; }
table.pyhltable { border-collapse: separate; border: 0; margin-bottom: 0; background: none; }
table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }
table.pyhltable td.code { padding-left: .75em; padding-right: 0; }
pre.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #ddddd8; }
pre.pygments .lineno { display: inline-block; margin-right: .25em; }
table.pyhltable .linenodiv { background: none !important; padding-right: 0 !important; }
.quoteblock { margin: 0 1em 1.25em 1.5em; display: table; }
.quoteblock > .title { margin-left: -1.5em; margin-bottom: 0.75em; }
.quoteblock blockquote, .quoteblock blockquote p { color: rgba(0, 0, 0, 0.85); font-size: 1.15rem; line-height: 1.75; word-spacing: 0.1em; letter-spacing: 0; font-style: italic; text-align: justify; }
.quoteblock blockquote { margin: 0; padding: 0; border: 0; }
.quoteblock blockquote:before { content: "\201c"; float: left; font-size: 2.75em; font-weight: bold; line-height: 0.6em; margin-left: -0.6em; color: #7a2518; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: 0.5em; margin-right: 0.5ex; text-align: right; }
.quoteblock .quoteblock { margin-left: 0; margin-right: 0; padding: 0.5em 0; border-left: 3px solid rgba(0, 0, 0, 0.6); }
.quoteblock .quoteblock blockquote { padding: 0 0 0 0.75em; }
.quoteblock .quoteblock blockquote:before { display: none; }
.verseblock { margin: 0 1em 1.25em 1em; }
.verseblock pre { font-family: "Open Sans", "DejaVu Sans", sans; font-size: 1.15rem; color: rgba(0, 0, 0, 0.85); font-weight: 300; text-rendering: optimizeLegibility; }
.verseblock pre strong { font-weight: 400; }
.verseblock .attribution { margin-top: 1.25rem; margin-left: 0.5ex; }
.quoteblock .attribution, .verseblock .attribution { font-size: 0.9375em; line-height: 1.45; font-style: italic; }
.quoteblock .attribution br, .verseblock .attribution br { display: none; }
.quoteblock .attribution cite, .verseblock .attribution cite { display: block; letter-spacing: -0.05em; color: rgba(0, 0, 0, 0.6); }
.quoteblock.abstract { margin: 0 0 1.25em 0; display: block; }
.quoteblock.abstract blockquote, .quoteblock.abstract blockquote p { text-align: left; word-spacing: 0; }
.quoteblock.abstract blockquote:before, .quoteblock.abstract blockquote p:first-of-type:before { display: none; }
table.tableblock { max-width: 100%; border-collapse: separate; }
table.tableblock td > .paragraph:last-child p > p:last-child, table.tableblock th > p:last-child, table.tableblock td > p:last-child { margin-bottom: 0; }
table.spread { width: 100%; }
table.tableblock, th.tableblock, td.tableblock { border: 0 solid #dedede; }
table.grid-all th.tableblock, table.grid-all td.tableblock { border-width: 0 1px 1px 0; }
table.grid-all tfoot > tr > th.tableblock, table.grid-all tfoot > tr > td.tableblock { border-width: 1px 1px 0 0; }
table.grid-cols th.tableblock, table.grid-cols td.tableblock { border-width: 0 1px 0 0; }
table.grid-all * > tr > .tableblock:last-child, table.grid-cols * > tr > .tableblock:last-child { border-right-width: 0; }
table.grid-rows th.tableblock, table.grid-rows td.tableblock { border-width: 0 0 1px 0; }
table.grid-all tbody > tr:last-child > th.tableblock, table.grid-all tbody > tr:last-child > td.tableblock, table.grid-all thead:last-child > tr > th.tableblock, table.grid-rows tbody > tr:last-child > th.tableblock, table.grid-rows tbody > tr:last-child > td.tableblock, table.grid-rows thead:last-child > tr > th.tableblock { border-bottom-width: 0; }
table.grid-rows tfoot > tr > th.tableblock, table.grid-rows tfoot > tr > td.tableblock { border-width: 1px 0 0 0; }
table.frame-all { border-width: 1px; }
table.frame-sides { border-width: 0 1px; }
table.frame-topbot { border-width: 1px 0; }
th.halign-left, td.halign-left { text-align: left; }
th.halign-right, td.halign-right { text-align: right; }
th.halign-center, td.halign-center { text-align: center; }
th.valign-top, td.valign-top { vertical-align: top; }
th.valign-bottom, td.valign-bottom { vertical-align: bottom; }
th.valign-middle, td.valign-middle { vertical-align: middle; }
table thead th, table tfoot th { font-weight: bold; }
tbody tr th { display: table-cell; line-height: 1.6; background: #f7f8f7; }
tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: rgba(0, 0, 0, 0.8); font-weight: bold; }
p.tableblock > code:only-child { background: none; padding: 0; }
p.tableblock { font-size: 1em; }
td > div.verse { white-space: pre; }
ol { margin-left: 1.75em; }
ul li ol { margin-left: 1.5em; }
dl dd { margin-left: 1.125em; }
dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }
ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }
ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }
ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }
ul.checklist li > p:first-child > .fa-check-square-o:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }
ul.checklist li > p:first-child > input[type="checkbox"]:first-child { position: relative; top: 1px; }
ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }
.unstyled dl dt { font-weight: normal; font-style: normal; }
ol.arabic { list-style-type: decimal; }
ol.decimal { list-style-type: decimal-leading-zero; }
ol.loweralpha { list-style-type: lower-alpha; }
ol.upperalpha { list-style-type: upper-alpha; }
ol.lowerroman { list-style-type: lower-roman; }
ol.upperroman { list-style-type: upper-roman; }
ol.lowergreek { list-style-type: lower-greek; }
.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }
td.hdlist1 { padding-right: .75em; font-weight: bold; }
td.hdlist1, td.hdlist2 { vertical-align: top; }
.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }
.colist > table tr > td:first-of-type { padding: 0 0.75em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }
.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }
.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }
.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }
a.image { text-decoration: none; }
span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }
span.footnote a:active, span.footnoteref a:active { text-decoration: underline; }
#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }
.gist .file-data > table { border: 0; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }
div.unbreakable { page-break-inside: avoid; }
.big { font-size: larger; }
.small { font-size: smaller; }
.underline { text-decoration: underline; }
.overline { text-decoration: overline; }
.line-through { text-decoration: line-through; }
.aqua { color: #00bfbf; }
.aqua-background { background-color: #00fafa; }
.black { color: black; }
.black-background { background-color: black; }
.blue { color: #0000bf; }
.blue-background { background-color: #0000fa; }
.fuchsia { color: #bf00bf; }
.fuchsia-background { background-color: #fa00fa; }
.gray { color: #606060; }
.gray-background { background-color: #7d7d7d; }
.green { color: #006000; }
.green-background { background-color: #007d00; }
.lime { color: #00bf00; }
.lime-background { background-color: #00fa00; }
.maroon { color: #600000; }
.maroon-background { background-color: #7d0000; }
.navy { color: #000060; }
.navy-background { background-color: #00007d; }
.olive { color: #606000; }
.olive-background { background-color: #7d7d00; }
.purple { color: #600060; }
.purple-background { background-color: #7d007d; }
.red { color: #bf0000; }
.red-background { background-color: #fa0000; }
.silver { color: #909090; }
.silver-background { background-color: #bcbcbc; }
.teal { color: #006060; }
.teal-background { background-color: #007d7d; }
.white { color: #bfbfbf; }
.white-background { background-color: #fafafa; }
.yellow { color: #bfbf00; }
.yellow-background { background-color: #fafa00; }
span.icon > .fa { cursor: default; }
.admonitionblock td.icon [class^="fa icon-"] { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #19407c; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }
.conum[data-value] { display: inline-block; color: #fff !important; background-color: rgba(0, 0, 0, 0.8); -webkit-border-radius: 100px; border-radius: 100px; text-align: center; font-size: 0.75em; width: 1.67em; height: 1.67em; line-height: 1.67em; font-family: "Open Sans", "DejaVu Sans", sans-serif; font-style: normal; font-weight: bold; }
.conum[data-value] * { color: #fff !important; }
.conum[data-value] + b { display: none; }
.conum[data-value]:after { content: attr(data-value); }
pre .conum[data-value] { position: relative; top: -0.125em; }
b.conum * { color: inherit !important; }
.conum:not([data-value]):empty { display: none; }
h1, h2 { letter-spacing: -0.01em; }
dt, th.tableblock, td.content { text-rendering: optimizeLegibility; }
p, td.content { letter-spacing: -0.01em; }
p strong, td.content strong { letter-spacing: -0.005em; }
p, blockquote, dt, td.content { font-size: 1.0625rem; }
p { margin-bottom: 1.25rem; }
.sidebarblock p, .sidebarblock dt, .sidebarblock td.content, p.tableblock { font-size: 1em; }
.exampleblock > .content { background-color: #fffef7; border-color: #e0e0dc; -webkit-box-shadow: 0 1px 4px #e0e0dc; box-shadow: 0 1px 4px #e0e0dc; }
.print-only { display: none !important; }
@media print { @page { margin: 1.25cm 0.75cm; }
  * { -webkit-box-shadow: none !important; box-shadow: none !important; text-shadow: none !important; }
  a { color: inherit !important; text-decoration: underline !important; }
  a.bare, a[href^="#"], a[href^="mailto:"] { text-decoration: none !important; }
  a[href^="http:"]:not(.bare):after, a[href^="https:"]:not(.bare):after, a[href^="mailto:"]:not(.bare):after { content: "(" attr(href) ")"; display: inline-block; font-size: 0.875em; padding-left: 0.25em; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  pre, blockquote, tr, img { page-break-inside: avoid; }
  thead { display: table-header-group; }
  img { max-width: 100% !important; }
  p, blockquote, dt, td.content { font-size: 1em; orphans: 3; widows: 3; }
  h2, h3, #toctitle, .sidebarblock > .content > .title, #toctitle, .sidebarblock > .content > .title { page-break-after: avoid; }
  #toc, .sidebarblock, .exampleblock > .content { background: none !important; }
  #toc { border-bottom: 1px solid #ddddd8 !important; padding-bottom: 0 !important; }
  .sect1 { padding-bottom: 0 !important; }
  .sect1 + .sect1 { border: 0 !important; }
  #header > h1:first-child { margin-top: 1.25rem; }
  body.book #header { text-align: center; }
  body.book #header > h1:first-child { border: 0 !important; margin: 2.5em 0 1em 0; }
  body.book #header .details { border: 0 !important; display: block; padding: 0 !important; }
  body.book #header .details span:first-child { margin-left: 0 !important; }
  body.book #header .details br { display: block; }
  body.book #header .details br + span:before { content: none !important; }
  body.book #toc { border: 0 !important; text-align: left !important; padding: 0 !important; margin: 0 !important; }
  body.book #toc, body.book #preamble, body.book h1.sect0, body.book .sect1 > h2 { page-break-before: always; }
  .listingblock code[data-lang]:before { display: block; }
  #footer { background: none !important; padding: 0 0.9375em; }
  #footer-text { color: rgba(0, 0, 0, 0.6) !important; font-size: 0.9em; }
  .hide-on-print { display: none !important; }
  .print-only { display: block !important; }
  .hide-for-print { display: none !important; }
  .show-for-print { display: inherit !important; } }
</style>
<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.min.css">
<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/default.min.css">
<script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</head>
<body class="book">
<div id="header">
</div>
<div id="content">
<div class="sect1">
<h2 id="_chapter-9-error-handling"><a class="anchor" href="#_chapter-9-error-handling"></a>Chapter 9. Error Handling</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this chapter I&#8217;ll explain you how to handle run-time errors, which in Java are called <em>exceptions</em>.</p>
</div>
<div class="paragraph">
<p>Say you forgot to write one closing curly brace in your Java code. This will result in the compilation error that can be fixed easily. But there are so called <em>run-time errors</em>, when all of a sudden your program stops working properly.</p>
</div>
<div class="paragraph">
<p>For example, a Java class reads a file with the game scores. What’s going to happen if someone will delete this file? Will the program crash with a scary error message, or will it stay alive displaying a user friendly message like this one: <em>Dear friend, for some reason I could not read the file scores.txt. Please make sure that the file exists?</em> This is an example of a situation when Java compiler won&#8217;t be able to help - the Java syntax was written properly.</p>
</div>
<div class="paragraph">
<p>You should make your programs ready for unexpected situations. you should foresee what might go wrong when the program will be running, and what to do if something went wrong. In many programming languages the programmer decides if he wants to add error processing code to a program. But in many cases Java forces you to include error processing code, otherwise the programs will not even compile.</p>
</div>
<div class="paragraph">
<p>Runtime errors in Java are called exceptions, and error processing is called <em>exception handling</em>. You have to place code that may produce errors in so-called <code>try/catch</code> block. It’s as if you’re saying to JVM the following: <em>Try to read the file with scores, but if something happens, catch the error and execute the code that will deal with it:</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="Java language-Java">try{
  fileScores.read();
}
catch (IOException e){
  System.out.println(
       "Dear friend,I could not read the file scores.txt");
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We’ll learn how to work with files in Chapter 10, but at this point I&#8217;d like to introduce a new term <em>I/O</em> or <em>input/output</em>. Read and write operations (from/to disk or other device) are also known as I/O operations, and the class <code>IOException</code> is a class that contains information about input/output errors.</p>
</div>
<div class="paragraph">
<p>In the Java world, a method <em>throws an exception</em> in case of a runtime error. Different exceptions will be thrown for different type of errors.  If the <code>catch</code> block exists in the program for this particular type of an error, it will be caught and the program will jump into the <code>catch</code> block  to execute the code located there. The program will stay alive, and this exception is considered to be taken care of.</p>
</div>
<div class="paragraph">
<p>The print statement from the code above will be executed only in case of the file read error.</p>
</div>
<div class="sect2">
<h3 id="_reading-the-stack-trace"><a class="anchor" href="#_reading-the-stack-trace"></a>Reading the Stack Trace</h3>
<div class="paragraph">
<p>If an unexpected exception occurs that is not handled by the program, it prints a multi-line error message on the screen. Such message is called stack trace. If your program  called several methods before it ran into a problem, the <em>stack trace</em> can help you to trace the program, and find the line that have caused the error.</p>
</div>
<div class="paragraph">
<p>We know that dividing by zero is illegal. But, for the illustration purposes, I wrote a program <code>TestStackTrace</code> that divides by zero on purpose  (line numbers are not the part of the code).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="Java language-Java">1 class TestStackTrace{
2  TestStackTrace()
3   {
4    divideByZero();
5   }
6
7  int divideByZero()
8   {
9      return 25/0;
10  }
11
12  static void main(String[] args)
13  {
14    new TestStackTrace();
15  }
16 }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The output of this program shows the sequence of method calls that were made up to the moment when the run-time error had happened. Start reading this output from the last line going up.</p>
</div>
<div class="paragraph">
<p><code>Exception in thread "main"</code>
<code>java.lang.ArithmeticException: / by zero</code>
   <code>at TestStackTrace.divideByZero(TestStackTrace.java:9)</code>
   <code>at TestStackTrace.&lt;init&gt;(TestStackTrace.java:4)</code>
   <code>at TestStackTrace.main(TestStackTrace.java:14)</code></p>
</div>
<div class="paragraph">
<p>This means that the program started in the method <code>main</code>, then went to <code>init</code> which is a constructor, and then called the method <code>divideByZero</code>. The numbers 14, 4 and 9 show in which lines of the program these methods were called. After that, an <code>ArithmeticException</code> was thrown – the line number nine tried to divide by zero.</p>
</div>
</div>
<div class="sect2">
<h3 id="_genealogical-tree-of-exceptions"><a class="anchor" href="#_genealogical-tree-of-exceptions"></a>Genealogical Tree of Exceptions</h3>
<div class="paragraph">
<p>Exceptions in Java are also classes, and some of them are shown in the following inheritance tree:</p>
</div>
<div id="FIG9-1" class="imageblock">
<div class="content">
<img src="./images/fig_9_01.png" alt="fig 9 01">
</div>
<div class="title">Figure 1. Exceptions Hierarchy</div>
</div>
<div class="paragraph">
<p>Subclasses of the class <code>Exception</code> are called <em>checked exceptions</em> and you must process them  in your code.</p>
</div>
<div class="paragraph">
<p>Subclasses of the class <code>Error</code> are fatal JVM errors and the running program can’t handle them.</p>
</div>
<div class="paragraph">
<p>The <code>TooManyBikesException</code> is an example of exception that can be created by a programmer.</p>
</div>
<div class="paragraph">
<p>How a programmer is supposed to know in advance if some Java method may throw an exception and that a <code>try/catch</code> block should be used?  Not to worry, if you call a method that may throw an exception, Java compiler will print an error message similar to this one:</p>
</div>
<div class="paragraph">
<p><code>"ScoreReader.java":  unreported exception: java.io.IOException; must be ``caught or declared to be thrown at line 57</code></p>
</div>
<div class="paragraph">
<p>Of course you are welcome to read Java documentation that describes exceptions that may be thrown by any particular  method.  The rest of this chapter will explain how to deal with these exceptions.</p>
</div>
</div>
<div class="sect2">
<h3 id="_try-catch-block"><a class="anchor" href="#_try-catch-block"></a>Try/Catch Block</h3>
<div class="paragraph">
<p>There are five Java keywords that can be used for error handling: <code>try</code>, <code>catch</code>, <code>finally</code>, <code>throw</code>, and <code>throws</code>.</p>
</div>
<div class="paragraph">
<p>After one <code>try</code> block you may put several <code>catch</code> blocks, if you believe that more than one error may happen. For example, when a program tries to read a file, the file may not be there, and you’ll get the <code>FileNotFoundException</code>, or the file is there, but the code keeps reading the file after reaching the end of  file – this generates <code>EOFException</code>. The next code fragment  will print messages in plain English if the program can’t find a file with game scores or reached the end of the file. For any other read errors it’ll print the message <em>Problem reading</em> file and a technical description of the error.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="Java language-Java">public void getScores(){
 try{
    fileScores.read();
    System.out.println(“Scores loaded successfully”);
 }catch(FileNotFoundException e){
     System.out.println(“Can not find file Scores”);
 }catch(EOFException e1){
      System.out.println(“Reached end of file”);
 }catch(IOException e2){
      System.out.println(“Problem reading  file “ +
                                    e2.getMessage());
 }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the method <code>read</code> fails, the program jumps over the line <code>println</code>  and tries to land in the <code>catch</code> block that matches the error. If it finds such block, the appropriate methid <code>println</code> will be executed, but if the matching catch block is not found, the method <code>getScores</code> will re-throw this exception to its caller.</p>
</div>
<div class="paragraph">
<p>If you write several <code>catch</code> blocks, you may need to place them in a particular order if these exceptions are inherited from each other. For example, since the <code>EOFException</code> is a subclass of the <code>IOException</code>, you have to put the <code>catch</code> block for the subclass first.  If you would put the <code>catch</code> for <code>IOException</code> first, the program would never reach the <code>FileNotFound</code> or <code>EOFException</code>, because the first <code>catch</code> would intercept them.</p>
</div>
<div class="paragraph">
<p>Lazybones would program the method <code>getScores</code> just like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="Java language-Java">public void getScores(){
 try{
  fileScores.read();
 }catch(Exception e){
  System.out.println(“Problem reading  file ”+
                                      e.getMessage());
   }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is an example of a bad style of Java coding. When you write a program, always remember that someone else may read it, and you don’t want to be ashamed of your code.</p>
</div>
<div class="paragraph">
<p>Catch blocks receive an instance of the object <code>Exception</code> that contains a short explanation of a problem, and its method <code>getMessage</code> will return this info. Sometimes, if the description of an error is not clear, try the method <code>toString</code> instead:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="Java language-Java">catch(Exception e){
 System.out.println(“Problem reading file ”+ e.toString());
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you need more detailed information about the exception, use the method <code>printStackTrace</code>. It will print the sequence of  method calls that lead to this exception  similar to an example from  the section <em>Reading Stack Trace</em>.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s try to “kill” the calculator program from Chapter 6. Run the class Calculator and enter from the keyboard the charactes <em>abc</em>. Press any of the action buttons, and you’ll see on the console screen something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="Java language-Java">java.lang.NumberFormatException: For input string: "abc"
   at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
   at java.lang.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1213)
   at java.lang.Double.parseDouble(Double.java:202)
   at CalculatorEngine.actionPerformed(CalculatorEngine.java:27)
   at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1764)</code></pre>
</div>
</div>
<div class="paragraph">
<p>This was an example of a non-handled exception. The class <code>CalculatorEngine</code> has the following line in its method <code>actionPerformed</code>:</p>
</div>
<div class="paragraph">
<p><code>displayValue= Double.parseDouble(dispFieldText);</code></p>
</div>
<div class="paragraph">
<p>If the variable <code>dispFieldTest</code> has not a numeric value,  the method <code>parseDouble</code> will not be anle to convert it to the <code>double</code> data type and will throw a <code>NumberFormatException</code>.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s handle this exception and display an error message that will explain the problem to the user.  The line with <code>parseDouble</code> has to be placed in a <code>try/catch</code> block, and Eclipse will help you with this. Highlight this line and right-click on it with the mouse. In the popup menu select the items <em>Source</em> and <em>Surround with try/catch block</em>. Voila! The code is changed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="Java language-Java">try {
   displayValue= Double.parseDouble(dispFieldText);
} catch (NumberFormatException e1) {
   // TODO Auto-generated catch block
   e1.printStackTrace();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Replace the <code>printStackTrace</code> line with the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="Java language-Java">javax.swing.JOptionPane.showConfirmDialog(null,
   "Please enter a Number", "Wrong input",
   javax.swing.JOptionPane.PLAIN_MESSAGE);
return;</code></pre>
</div>
</div>
<div class="paragraph">
<p>We’ve gotten rid of the scary stack trace error messages, and displayed a simple to understand  message <em>Please enter a Number</em>. Now the <code>NumberFormatException</code> is handled.</p>
</div>
</div>
<div class="sect2">
<h3 id="_the-keyword-code-throws-code"><a class="anchor" href="#_the-keyword-code-throws-code"></a>The keyword <code>throws</code></h3>
<div class="paragraph">
<p>In some cases, it makes more sense to handle the exception not in the method where it happened, but in the method’s caller.
In such cases the method signature has to declare (warn) that it may throw a particular exception. This is done using a special keyword <code>throws</code>. Let’s use the same example that reads a file. Since the method <code>read</code> may throw an <code>IOException</code>, you should either handle or declare it. In the next example we are  going to declare that the method <code>getAllScores</code> may throw an IOException:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="Java language-Java">class MySuperGame{

  void getAllScores() throws IOException{
   // …
   // Do not use try/catch  if you are
   // not handling exceptions in this method
   file.read();
  }

  public static void main(String[] args){
    MySuperGame msg = new MySuperGame();
    System.out.println(“List of Scores”);

    try{
     // Since the  getAllScores()declares exception,
     // we handle  it over here
       msg.getAllScores();

    }catch(IOException e){
       System.out.println(
       "Sorry, the list of scores is not available");
    }
 }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since we are not even trying to catch exceptions here, the <code>IOException</code> will be  <em>propagated</em> from the <code>getAllScores</code> to its caller - the method <code>main</code>. Now the main method has to handle this exception.</p>
</div>
</div>
<div class="sect2">
<h3 id="_the-keyword-code-finally-code"><a class="anchor" href="#_the-keyword-code-finally-code"></a>The Keyword <code>finally</code></h3>
<div class="paragraph">
<p>Any code within a <code>try/catch</code> block can end in one of the following ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The code inside the <code>try</code> block successfully ended and the program continues.</p>
</li>
<li>
<p>The code inside the <code>try</code> block runs into a <code>return</code> statement and the method is exited.</p>
</li>
<li>
<p>The code in the <code>try</code> block throws an exception and control goes to the matching <code>catch</code> block, which either handles the error and the method execution continues, or it re-throws the exception to the caller of this method.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If there is a piece of code that must be executed no matter what, put it under the keyword <code>finally</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="Java language-Java">try{
   file.read();
}catch(Exception e){
   printStackTrace();
}finally{
  // the code that must always be executed
  // goes here, for example file.close();
}
</code></pre>
</div>
</div>
<div class="paragraph">
<p>The code above has to close the file regardless of success or failure of the read operation. Usually, you can find the code that releases some computer resources in the block <code>finally</code>, for example, disconnection from a network or file closing.</p>
</div>
<div class="paragraph">
<p>If you are not planning to handle exceptions in the current method, they will be propagated to the caller. In this case, you can use the <code>finally</code> even without a <code>catch</code> block:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="Java language-Java">void myMethod() throws IOException{
 try{
   // your code that reads a file goes here
 }
 finally{
   // your code that closes the file  goes here
 }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_the-keyword-code-throw-code"><a class="anchor" href="#_the-keyword-code-throw-code"></a>The Keyword <code>throw</code></h3>
<div class="paragraph">
<p>If an exception has happened in a method, but you believe that the caller should handle it, just re-throw it to the method’s caller. Sometimes, you might want to catch one exception but re-throw another one with a different description of the error like in the code snippet below.</p>
</div>
<div class="paragraph">
<p>The statement <code>throw</code> is used to throw Java objects. The object that a program throws must be <em>throwable</em>. This means that you can only throw objects that are direct or indirect subclasses of the class <code>Throwable</code>, and all Java exceptions are its subclasses.</p>
</div>
<div id="FIG9-3" class="imageblock">
<div class="content">
<img src="./images/fig_9_02.png" alt="fig 9 02">
</div>
<div class="title">Figure 2. Throwing exceptions</div>
</div>
<div class="paragraph">
<p>The next code fragment shows how the method <code>getAllScores()</code> catches an <code>IOException</code> and creates a new <code>Exception</code> object with a more friendly description of the error, and re-throws it to the method <code>main()</code>.  Now the method <code>main()</code> won’t compile unless you put the line that calls <code>getAllScores</code> in the <code>try/catch</code> block, because this method may throw an <code>Exception</code> and it should be either handled or re-thrown again. The method <code>main</code> should not throw any exceptions, that’s why it should handle it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="Java language-Java">class ScoreList{
   // Additional code is needed to compile this class

   static void getAllScores() throws Exception{
     try{
      file.read();//this line may throw an exception
     } catch (IOException e) {
      throw new  Exception (
      "Dear Friend, the file Scores has problems");
     }
   }

  public static void main(String[] args){
    System.out.println("Scores");

   try{
       getAllScores();
   }
   catch(Exception e1){
        System.out.println(e1.getMessage());
   }
 }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In case of a file error,  the main method will handle it,  and  the <code>e1.getMessage</code>   will return the <em>Dear Friend…</em> message.</p>
</div>
<div id="FIG9-3" class="imageblock">
<div class="content">
<img src="./images/fig_9_03.png" alt="fig 9 03">
</div>
<div class="title">Figure 3. Showing a user-friendly message</div>
</div>
</div>
<div class="sect2">
<h3 id="_creating-new-exceptions"><a class="anchor" href="#_creating-new-exceptions"></a>Creating New Exceptions</h3>
<div class="paragraph">
<p>Programmers could also create new  exception classes  that did not exist in Java before.  Such classes have to derive from one of the Java exception classes.  Let’s say you are in business of selling bikes and need to <em>validate</em> customer orders. Different number of bikes can fit in your small truck depending on the model. For example, you can fit no more than three FireBird bikes in your truck. You can create a new subclass of <code>Exception</code> called <code>TooManyBikesException</code>, and if someone tries to order more than three of these bikes,  throw the this exception:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="Java language-Java">class TooManyBikesException extends Exception{

  // Constructor
  TooManyBikesException (){

    super("Can't ship so many bikes.");
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This class has only a constructor that takes the message describing this error and passes it to the superclass of <code>TooManyBikesException</code> for reporting the same way as Java runtime reports any other exception. When some <code>catch</code> block receives this exception it can extract the message describing what happened by calling the method <code>getMessage</code> on the caught object <code>TooManyBikesException</code>.</p>
</div>
<div id="FIG9-4" class="imageblock">
<div class="content">
<img src="./images/fig_9_04.png" alt="fig 9 04">
</div>
</div>
<div class="paragraph">
<p>Visualize a JavaFX GUI where the user selects several bicycles of some model and hits the button <em>Place Order</em>. As you know from Chapter 8, this action will result in the call to the event handler method (e.g. <code>placeOrder</code>) assigned to the <code>onAction</code> property of the button.  The event handler can apply some business logic (e.g. call a method <code>validateOrder</code>) to check if the order can be delivered.</p>
</div>
<div class="paragraph">
<p>The next code fragment shows how the method <code>placeOrder</code> invokes <code>validateOrder</code>, which can throw <code>TooManyBikesException</code>. If the order won’t fit in the truck, the method <code>validateOrder</code> throws the exception, the <code>catch</code> block in <code>placeOrder</code> intercepts it and displays an error message in a text field on the window.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="Java language-Java">@FXML private ComboBox model;
@FXML private TextField quantity;

@FXML private Label txtFieldOrderConfirmation;

public void validateOrder(ActionEvent evt){

   String selectedModel = model.getSelectionModel()
                               .getSelectedItem();
   String selectedQuantity =
                          txtFieldQuantity.getText();
   int quantity = Integer.parseInt(selectedQuantity);

   try{
      validateOrder(selectedModel, quantity);

      //the next line will be skipped in case of exception
      txtFieldOrderConfirmation.setText(
                           "Your order is complete");

   } catch(TooManyBikesException bikesException){
       txtFieldOrderConfirmation.setText(
              bikesException.getMessage());
   }
 }

 void validateOrder(String bikeModel, int quantity)
                         throws TooManyBikesException{

   /* Here should go the code to checks if the requested
      quantity of bikes of selected model fits in the
      truck. If they won't fit, do the following:
   */

   throw new TooManyBikesException("Can not ship" +
                    quantity + " bikes of the model " + bikeModel + " in one shipment" );
 }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>I&#8217;m not going to provide you an explanation of how JavaFX <code>ComboBox</code> control, because I want you to do a little research as a part of the project assignment below.</p>
</div>
<div class="paragraph">
<p>In a perfect world, every program would work properly, but realistically you have to be ready for the unexpected situations. It helps that Java often forces you to write code that is prepared for these situations. You can also use the Java exception handling mechanism to process situation specific to your application as illustrated using the bike store example.</p>
</div>
<div class="paragraph">
<p>For more detailed coverage of exceptions read Oracle&#8217;s   <a href="http://docs.oracle.com/javase/tutorial/essential/exceptions/">lesson on exceptions</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_project-create-a-javafx-bike-store"><a class="anchor" href="#_project-create-a-javafx-bike-store"></a>Project: Create a JavaFX Bike Store</h3>
<div class="paragraph">
<p>In this assignment I&#8217;d like you to create a JavaFX application for a bicycle store. It should have GUI that allows the user to select a bicycle model (do a little research and learn on your own how to use the JavaFX <code>ComboBox</code> for this). Use a <code>TextField</code> control for entering the quantity, a <code>Button</code> for placing an order, and a <code>Label</code> to display either order confirmation or an error message.</p>
</div>
<div class="paragraph">
<p>In the controller class use the code fragment from the section "Creating New Exceptions".</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2014-11-29 22:06:01 EST
</div>
</div>
</body>
</html>