<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.2">
<title>Chapter 5. Interfaces, Lambdas, Abstract and Anonymous Classes</title>
<style>
/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: white; color: rgba(0, 0, 0, 0.8); padding: 0; margin: 0; font-family: "Noto Serif", "DejaVu Serif", serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased, body { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, .admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { line-height: 1.45; color: #7a2518; font-weight: normal; margin-top: 0; margin-bottom: 0.25em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #2156a5; text-decoration: underline; line-height: inherit; }
a:hover, a:focus { color: #1d4b8f; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: "Open Sans", "DejaVu Sans", sans-serif; font-weight: 300; font-style: normal; color: #ba3925; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.0125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #e99b8f; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #ddddd8; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: "Droid Sans Mono", "DejaVu Sans Mono", "Monospace", monospace; font-weight: normal; color: rgba(0, 0, 0, 0.9); }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }

ul, ol { margin-left: 1.5em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: rgba(0, 0, 0, 0.8); border-bottom: 1px dotted #dddddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: 0.9375em; color: rgba(0, 0, 0, 0.6); }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: rgba(0, 0, 0, 0.6); }

blockquote, blockquote p { line-height: 1.6; color: rgba(0, 0, 0, 0.85); }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.2; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 1px #dedede; }
table thead, table tfoot { background: #f7f8f7; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: rgba(0, 0, 0, 0.8); text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: rgba(0, 0, 0, 0.8); }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f8f8f7; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.6; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.2; word-spacing: -0.05em; }
h1 strong, h2 strong, h3 strong, #toctitle strong, .sidebarblock > .content > .title strong, h4 strong, h5 strong, h6 strong { font-weight: 400; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: 0.9375em; font-style: normal !important; letter-spacing: 0; padding: 0.1em 0.5ex; word-spacing: -0.15em; background-color: #f7f7f8; -webkit-border-radius: 4px; border-radius: 4px; line-height: 1.45; text-rendering: optimizeSpeed; }

pre, pre > code { line-height: 1.45; color: rgba(0, 0, 0, 0.9); font-family: "Droid Sans Mono", "DejaVu Sans Mono", "Monospace", monospace; font-weight: normal; text-rendering: optimizeSpeed; }

.keyseq { color: rgba(51, 51, 51, 0.8); }

kbd { display: inline-block; color: rgba(0, 0, 0, 0.8); font-size: 0.75em; line-height: 1.4; background-color: #f7f7f7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menu { color: rgba(0, 0, 0, 0.8); }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

p a > code:hover { color: rgba(0, 0, 0, 0.9); }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#content { margin-top: 1.25em; }

#content:before { content: none; }

#header > h1:first-child { color: rgba(0, 0, 0, 0.85); margin-top: 2.25rem; margin-bottom: 0; }
#header > h1:first-child + #toc { margin-top: 8px; border-top: 1px solid #ddddd8; }
#header > h1:only-child, body.toc2 #header > h1:nth-last-child(2) { border-bottom: 1px solid #ddddd8; padding-bottom: 8px; }
#header .details { border-bottom: 1px solid #ddddd8; line-height: 1.45; padding-top: 0.25em; padding-bottom: 0.25em; padding-left: 0.25em; color: rgba(0, 0, 0, 0.6); display: -ms-flexbox; display: -webkit-flex; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; }
#header .details span:first-child { margin-left: -0.125em; }
#header .details span.email a { color: rgba(0, 0, 0, 0.85); }
#header .details br { display: none; }
#header .details br + span:before { content: "\00a0\2013\00a0"; }
#header .details br + span.author:before { content: "\00a0\22c5\00a0"; color: rgba(0, 0, 0, 0.85); }
#header .details br + span#revremark:before { content: "\00a0|\00a0"; }
#header #revnumber { text-transform: capitalize; }
#header #revnumber:after { content: "\00a0"; }

#content > h1:first-child:not([class]) { color: rgba(0, 0, 0, 0.85); border-bottom: 1px solid #ddddd8; padding-bottom: 8px; margin-top: 0; padding-top: 1rem; margin-bottom: 1.25rem; }

#toc { border-bottom: 1px solid #efefed; padding-bottom: 0.5em; }
#toc > ul { margin-left: 0.125em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin: 0.5em 0; }
#toc ul { font-family: "Open Sans", "DejaVu Sans", sans-serif; list-style-type: none; }
#toc a { text-decoration: none; }
#toc a:active { text-decoration: underline; }

#toctitle { color: #7a2518; font-size: 1.2em; }

@media only screen and (min-width: 768px) { #toctitle { font-size: 1.375em; }
  body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { margin-top: 0 !important; background-color: #f8f8f7; position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #efefed; border-top-width: 0 !important; border-bottom-width: 0 !important; z-index: 1000; padding: 1.25em 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: 0.9em; margin-bottom: 0; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right-width: 0; border-left: 1px solid #efefed; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #e0e0dc; margin-bottom: 1.25em; padding: 1.25em; background: #f8f8f7; -webkit-border-radius: 4px; border-radius: 4px; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }

#footer { max-width: 100%; background-color: rgba(0, 0, 0, 0.8); padding: 1.25em; }

#footer-text { color: rgba(255, 255, 255, 0.8); line-height: 1.44; }

.sect1 { padding-bottom: 0.625em; }

@media only screen and (min-width: 768px) { .sect1 { padding-bottom: 1.25em; } }
.sect1 + .sect1 { border-top: 1px solid #efefed; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; z-index: 1001; width: 1.5ex; margin-left: -1.5ex; display: block; text-decoration: none !important; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: "\00A7"; font-size: 0.85em; display: block; padding-top: 0.1em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #ba3925; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #a53221; }

.audioblock, .imageblock, .literalblock, .listingblock, .stemblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-rendering: optimizeLegibility; text-align: left; font-family: "Noto Serif", "DejaVu Serif", serif; font-size: 1rem; font-style: italic; }

table.tableblock > caption.title { white-space: nowrap; overflow: visible; max-width: 0; }

.paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { color: rgba(0, 0, 0, 0.85); }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border-collapse: separate; border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; font-family: "Open Sans", "DejaVu Sans", sans-serif; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #ddddd8; color: rgba(0, 0, 0, 0.6); }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 4px; border-radius: 4px; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #e0e0dc; margin-bottom: 1.25em; padding: 1.25em; background: #f8f8f7; -webkit-border-radius: 4px; border-radius: 4px; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock > .content > .title { color: #7a2518; margin-top: 0; text-align: center; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre, .listingblock pre:not(.highlight), .listingblock pre[class="highlight"], .listingblock pre[class^="highlight "], .listingblock pre.CodeRay, .listingblock pre.prettyprint { background: #f7f7f8; }
.sidebarblock .literalblock pre, .sidebarblock .listingblock pre:not(.highlight), .sidebarblock .listingblock pre[class="highlight"], .sidebarblock .listingblock pre[class^="highlight "], .sidebarblock .listingblock pre.CodeRay, .sidebarblock .listingblock pre.prettyprint { background: #f2f1f1; }

.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { -webkit-border-radius: 4px; border-radius: 4px; word-wrap: break-word; padding: 1em; font-size: 0.8125em; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.90625em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 1em; } }

.literalblock.output pre { color: #f7f7f8; background-color: rgba(0, 0, 0, 0.9); }

.listingblock pre.highlightjs { padding: 0; }
.listingblock pre.highlightjs > code { padding: 1em; -webkit-border-radius: 4px; border-radius: 4px; }

.listingblock pre.prettyprint { border-width: 0; }

.listingblock > .content { position: relative; }

.listingblock code[data-lang]:before { display: none; content: attr(data-lang); position: absolute; font-size: 0.75em; top: 0.425rem; right: 0.5rem; line-height: 1; text-transform: uppercase; color: #999; }

.listingblock:hover code[data-lang]:before { display: block; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: "$"; }

table.pyhltable { border-collapse: separate; border: 0; margin-bottom: 0; background: none; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

pre.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #ddddd8; }

pre.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background: none !important; padding-right: 0 !important; }

.quoteblock { margin: 0 1em 1.25em 1.5em; display: table; }
.quoteblock > .title { margin-left: -1.5em; margin-bottom: 0.75em; }
.quoteblock blockquote, .quoteblock blockquote p { color: rgba(0, 0, 0, 0.85); font-size: 1.15rem; line-height: 1.75; word-spacing: 0.1em; letter-spacing: 0; font-style: italic; text-align: justify; }
.quoteblock blockquote { margin: 0; padding: 0; border: 0; }
.quoteblock blockquote:before { content: "\201c"; float: left; font-size: 2.75em; font-weight: bold; line-height: 0.6em; margin-left: -0.6em; color: #7a2518; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: 0.5em; margin-right: 0.5ex; text-align: right; }
.quoteblock .quoteblock { margin-left: 0; margin-right: 0; padding: 0.5em 0; border-left: 3px solid rgba(0, 0, 0, 0.6); }
.quoteblock .quoteblock blockquote { padding: 0 0 0 0.75em; }
.quoteblock .quoteblock blockquote:before { display: none; }

.verseblock { margin: 0 1em 1.25em 1em; }
.verseblock pre { font-family: "Open Sans", "DejaVu Sans", sans; font-size: 1.15rem; color: rgba(0, 0, 0, 0.85); font-weight: 300; text-rendering: optimizeLegibility; }
.verseblock pre strong { font-weight: 400; }
.verseblock .attribution { margin-top: 1.25rem; margin-left: 0.5ex; }

.quoteblock .attribution, .verseblock .attribution { font-size: 0.9375em; line-height: 1.45; font-style: italic; }
.quoteblock .attribution br, .verseblock .attribution br { display: none; }
.quoteblock .attribution cite, .verseblock .attribution cite { display: block; letter-spacing: -0.05em; color: rgba(0, 0, 0, 0.6); }

.quoteblock.abstract { margin: 0 0 1.25em 0; display: block; }
.quoteblock.abstract blockquote, .quoteblock.abstract blockquote p { text-align: left; word-spacing: 0; }
.quoteblock.abstract blockquote:before, .quoteblock.abstract blockquote p:first-of-type:before { display: none; }

table.tableblock { max-width: 100%; border-collapse: separate; }
table.tableblock td > .paragraph:last-child p > p:last-child, table.tableblock th > p:last-child, table.tableblock td > p:last-child { margin-bottom: 0; }

table.spread { width: 100%; }

table.tableblock, th.tableblock, td.tableblock { border: 0 solid #dedede; }

table.grid-all th.tableblock, table.grid-all td.tableblock { border-width: 0 1px 1px 0; }

table.grid-all tfoot > tr > th.tableblock, table.grid-all tfoot > tr > td.tableblock { border-width: 1px 1px 0 0; }

table.grid-cols th.tableblock, table.grid-cols td.tableblock { border-width: 0 1px 0 0; }

table.grid-all * > tr > .tableblock:last-child, table.grid-cols * > tr > .tableblock:last-child { border-right-width: 0; }

table.grid-rows th.tableblock, table.grid-rows td.tableblock { border-width: 0 0 1px 0; }

table.grid-all tbody > tr:last-child > th.tableblock, table.grid-all tbody > tr:last-child > td.tableblock, table.grid-all thead:last-child > tr > th.tableblock, table.grid-rows tbody > tr:last-child > th.tableblock, table.grid-rows tbody > tr:last-child > td.tableblock, table.grid-rows thead:last-child > tr > th.tableblock { border-bottom-width: 0; }

table.grid-rows tfoot > tr > th.tableblock, table.grid-rows tfoot > tr > td.tableblock { border-width: 1px 0 0 0; }

table.frame-all { border-width: 1px; }

table.frame-sides { border-width: 0 1px; }

table.frame-topbot { border-width: 1px 0; }

th.halign-left, td.halign-left { text-align: left; }

th.halign-right, td.halign-right { text-align: right; }

th.halign-center, td.halign-center { text-align: center; }

th.valign-top, td.valign-top { vertical-align: top; }

th.valign-bottom, td.valign-bottom { vertical-align: bottom; }

th.valign-middle, td.valign-middle { vertical-align: middle; }

table thead th, table tfoot th { font-weight: bold; }

tbody tr th { display: table-cell; line-height: 1.6; background: #f7f8f7; }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: rgba(0, 0, 0, 0.8); font-weight: bold; }

p.tableblock > code:only-child { background: none; padding: 0; }

p.tableblock { font-size: 1em; }

td > div.verse { white-space: pre; }

ol { margin-left: 1.75em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }

ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }

ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > .fa-check-square-o:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { position: relative; top: 1px; }

ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1 { padding-right: .75em; font-weight: bold; }

td.hdlist1, td.hdlist2 { vertical-align: top; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist > table tr > td:first-of-type { padding: 0 0.75em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; }

span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }
span.footnote a:active, span.footnoteref a:active { text-decoration: underline; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }

#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: 0; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > .fa { cursor: default; }

.admonitionblock td.icon [class^="fa icon-"] { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #19407c; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum[data-value] { display: inline-block; color: #fff !important; background-color: rgba(0, 0, 0, 0.8); -webkit-border-radius: 100px; border-radius: 100px; text-align: center; font-size: 0.75em; width: 1.67em; height: 1.67em; line-height: 1.67em; font-family: "Open Sans", "DejaVu Sans", sans-serif; font-style: normal; font-weight: bold; }
.conum[data-value] * { color: #fff !important; }
.conum[data-value] + b { display: none; }
.conum[data-value]:after { content: attr(data-value); }
pre .conum[data-value] { position: relative; top: -0.125em; }

b.conum * { color: inherit !important; }

.conum:not([data-value]):empty { display: none; }

h1, h2 { letter-spacing: -0.01em; }

dt, th.tableblock, td.content { text-rendering: optimizeLegibility; }

p, td.content { letter-spacing: -0.01em; }
p strong, td.content strong { letter-spacing: -0.005em; }

p, blockquote, dt, td.content { font-size: 1.0625rem; }

p { margin-bottom: 1.25rem; }

.sidebarblock p, .sidebarblock dt, .sidebarblock td.content, p.tableblock { font-size: 1em; }

.exampleblock > .content { background-color: #fffef7; border-color: #e0e0dc; -webkit-box-shadow: 0 1px 4px #e0e0dc; box-shadow: 0 1px 4px #e0e0dc; }

.print-only { display: none !important; }

@media print { @page { margin: 1.25cm 0.75cm; }
  * { -webkit-box-shadow: none !important; box-shadow: none !important; text-shadow: none !important; }
  a { color: inherit !important; text-decoration: underline !important; }
  a.bare, a[href^="#"], a[href^="mailto:"] { text-decoration: none !important; }
  a[href^="http:"]:not(.bare):after, a[href^="https:"]:not(.bare):after, a[href^="mailto:"]:not(.bare):after { content: "(" attr(href) ")"; display: inline-block; font-size: 0.875em; padding-left: 0.25em; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  pre, blockquote, tr, img { page-break-inside: avoid; }
  thead { display: table-header-group; }
  img { max-width: 100% !important; }
  p, blockquote, dt, td.content { font-size: 1em; orphans: 3; widows: 3; }
  h2, h3, #toctitle, .sidebarblock > .content > .title, #toctitle, .sidebarblock > .content > .title { page-break-after: avoid; }
  #toc, .sidebarblock, .exampleblock > .content { background: none !important; }
  #toc { border-bottom: 1px solid #ddddd8 !important; padding-bottom: 0 !important; }
  .sect1 { padding-bottom: 0 !important; }
  .sect1 + .sect1 { border: 0 !important; }
  #header > h1:first-child { margin-top: 1.25rem; }
  body.book #header { text-align: center; }
  body.book #header > h1:first-child { border: 0 !important; margin: 2.5em 0 1em 0; }
  body.book #header .details { border: 0 !important; display: block; padding: 0 !important; }
  body.book #header .details span:first-child { margin-left: 0 !important; }
  body.book #header .details br { display: block; }
  body.book #header .details br + span:before { content: none !important; }
  body.book #toc { border: 0 !important; text-align: left !important; padding: 0 !important; margin: 0 !important; }
  body.book #toc, body.book #preamble, body.book h1.sect0, body.book .sect1 > h2 { page-break-before: always; }
  .listingblock code[data-lang]:before { display: block; }
  #footer { background: none !important; padding: 0 0.9375em; }
  #footer-text { color: rgba(0, 0, 0, 0.6) !important; font-size: 0.9em; }
  .hide-on-print { display: none !important; }
  .print-only { display: block !important; }
  .hide-for-print { display: none !important; }
  .show-for-print { display: inherit !important; } }

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/github.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</head>
<body class="book">
<div id="header">
</div>
<div id="content">
<div class="sect1">
<h2 id="_chapter-5-interfaces-lambdas-abstract-and-anonymous-classes"><a class="anchor" href="#_chapter-5-interfaces-lambdas-abstract-and-anonymous-classes"></a>Chapter 5. Interfaces, Lambdas, Abstract and Anonymous Classes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this chapter I&#8217;ll focus on discussing how you can program <em>behavior</em> in Java.  Classes have attributes (e.g. color, number of doors) and exhibit behavior (e.g. eat, sleep, or dive). There is a special group of programming languages that are called <em>functional</em> (e.g. JavaScript, Scala et al.) In these languages you can simply write functions like <code>eat</code>, <code>sleep</code>, or <code>dive</code>, and these functions can live their independent lives and don&#8217;t have to be declared in classes. In <em>object-oriented</em> languages behavior is implemented in methods defined in classes. Starting from Java 8 you can also program behavior in so called <em>lambda expressions</em> covered later in this chapter.</p>
</div>
<div class="paragraph">
<p>So far I was declaring and implementing behavior in methods located inside Java classes. But there is a way and a reason to separate the method declaration from its implementation. Such separation can be done using <em>interfaces</em>.</p>
</div>
<div class="sect2">
<h3 id="_java-interfaces"><a class="anchor" href="#_java-interfaces"></a>Java Interfaces</h3>
<div class="paragraph">
<p>While you can just create a Java class and implements all its methods there, a more formal way of declaring the behavior of the class in a separate <code>interface</code>. Then a class declaration would include the keyword <code>implements</code> followed by the name of the interface. This is a way to declare an application program interface (API) - what the class can do - so the programmer can quickly look at the short declaration of the interface rather than going through a longer code of the class.</p>
</div>
<div class="paragraph">
<p>For years, Java <em>interfaces</em> were used mainly for holding method declarations and <code>final</code> <code>static</code> variables. For example, the interface <code>Talkable</code> contains the declaration of just one method <code>talk</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">interface Talkable{
	public void talk();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since the method <code>talk</code> is not implemented here, it&#8217;s called <em>abstract</em>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To create a new interface in IDEA, select the menu File | New | Java class and select Interface in the Kind box.
</td>
</tr>
</table>
</div>
<div id="FIG5-1" class="imageblock">
<div class="content">
<img src=".//images/fig_5_01.png" alt="fig 5 01">
</div>
<div class="title">Figure 1. Creating an interface in IDEA</div>
</div>
<div class="paragraph">
<p>You should be thinking, "What&#8217;s the point of simply declaring a method without implementing it?" The thing is that more than one class can exhibit the same behavior. For example, a dog, a cat, and a parrot can "talk". But they "implement it" differently. A parrot can repeat words, while dogs bark. Cats talk by meowing. Accordingly you can declare three classes that will <em>implement</em> <code>Talkative</code> interface differently, as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">public class Parrot implements Talkative {
    public void talk(){
        System.out.println("My name is Kesha.");
    }
}

public class Dog implements Talkative {
    public void talk(){
        System.out.println("Bark! Bark-bark!");
    }
}

public class Cat implements Talkative {
    public void talk(){
        System.out.println("Meow! Meow!");
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>These three classes use the Java keyword <code>implements</code>, which means they promise to implement all abstract methods in the interface(s) listed after the keyword <code>implements</code> otherwise the Java compiler will complain: "You promised to implement all abstract methods from <code>Talkable</code>, where are they? Keep the promise!"</p>
</div>
<div class="paragraph">
<p>What if we need to create the class <code>Fish</code> that uses interfaces? Fish don&#8217;t talk. But they swim. Dogs can talk and swim, right?  Why won&#8217;t we declare yet another interface <code>Swimmable</code> with the methods <code>swim</code> and <code>dive</code>?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">public interface Swimmable {

    public void swim(int howFar);

    public void dive(int howDeep);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s leave the parrots alone. Let&#8217;s create a new class <code>Fish</code> and change the class <code>Dog</code> just a little bit. The <code>Fish</code> will implement <code>Swimmable</code> and the <code>Dog</code> will implement two interfaces:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">public class Fish implements Swimmable {
    public void swim(int howFar){
        System.out.println("OK, will swim " + howFar + " feet");
    }
    public void dive(int howDeep){
        System.out.println("OK, will dive " + howDeep + " feet");
    }
}

public class Dog implements Talkative, Swimmable {
    public void talk(){
        System.out.println("Bark! Bark-bark!");
    }

    public void swim(int howFar){
        System.out.println("Will swim about a half of this distance: " + howFar/2 + " feet");
    }

    public void dive(int howDeep){
        System.out.println("C'mon, don't ask a dog to dive, please!");
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When a class implements several interfaces, make sure to implement each and every abstract method declared in these interfaces. I&#8217;ll tell you more: a class can extend another class and implement interfaces at the same time, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">class Fish extends Pet implements Swimmable{

  // your code implementing swim(), dive()
  // and any other methods goes here
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Java includes several interfaces that don&#8217;t declare any methods (e.g. <code>Serializable</code>). They are called <em>marker interfaces</em>. You don&#8217;t need to implement any methods in classes that implement marker interfaces. They are used by the Java compiler internally to generate the byte code in a special way.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_default-methods-in-interfaces"><a class="anchor" href="#_default-methods-in-interfaces"></a>Default Methods in Interfaces</h4>
<div class="paragraph">
<p>To tell you the truth, I don&#8217;t like the fact that I had to implement the method <code>dive</code> in the class <code>Dog</code>. The dogs I&#8217;ve seen can&#8217;t dive. Can the interface <code>Swimmable</code> be changed so I&#8217;m not forced to write the implementation of the method <code>dive</code> in the class <code>Dog</code>? Yes, it can. Java 8 introduced a new keyword <code>default</code>. Now you&#8217;re allowed to write a default implementation of a method in the interface. Such a method won&#8217;t be considered abstract anymore, and you won&#8217;t be forced to implement it in your class. Let&#8217;s add a default implementation of the method <code>dive</code> to <code>Swimmable</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">public interface Swimmable {

    public void swim(int howFar);

    public default void dive(int howDeep){
        System.out.println("Can't dive, sorry");
    };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now the class <code>Dog</code> doesn&#8217;t have to implement the method <code>dive</code> - the compiler will see a default implementation and won&#8217;t complain. The next version of the class <code>Dog</code> implements only the method <code>swim</code> from <code>Swimmable</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">public class Dog implements Talkative, Swimmable {
    public void talk(){
        System.out.println("Bark! Bark-bark!");
    }

    public void swim(int howFar){
        System.out.println("Will swim about a half of this distance: " + howFar/2 + " feet");
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>There is no need to change the class <code>Fish</code>. It also implements <code>Swimmable</code>, but has its own version of the method <code>dive</code>, which will override the default implementation of the <code>dive</code> from <code>Swimmable</code>. You can still call the method <code>dive</code> on the instance of the <code>Dog</code> class - the default implementation will be invoked. The next class <code>PetMaster</code> will demonstrate this.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">public class PetMaster {
    public static void main(String[] args) {

        Dog myDog = new Dog();
        myDog.talk();
        myDog.swim(7);
        myDog.dive(2);  // will use default method

        Fish myFish = new Fish();
        myFish.swim(50);
        myFish.dive(20);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Run this program and you&#8217;ll see the following output on the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">_Bark! Bark-bark!
Will swim about a half of this distance: 3 feet
Can't dive, sorry
OK, will swim 50 feet
OK, will dive 20 feet</code></pre>
</div>
</div>
<div class="paragraph">
<p>The message "Can&#8217;t dive, sorry" was printed by the default method <code>dive</code> from the interface <code>Swimmable</code>.</p>
</div>
<div id="FIG5-1-1" class="imageblock">
<div class="content">
<img src=".//images/fig_5-01-1.png" alt="fig 5 01 1">
</div>
<div class="title">Figure 2. Dogs can&#8217;t dive</div>
</div>
</div>
<div class="sect3">
<h4 id="_static-methods-in-interfaces"><a class="anchor" href="#_static-methods-in-interfaces"></a>Static Methods in Interfaces</h4>
<div class="paragraph">
<p>Starting from Java 8, interfaces are also allowed to include static methods, which are not specific to any instance and can be used only internally by other methods of the interface. The following example illustrates the use of a static method in the interface. Now the default implementation of the method <code>dive</code> won&#8217;t just reject an offer to swim, but will check the current month: if it&#8217;s June, July, or August then diving is allowed because the water should be warm.</p>
</div>
<div class="paragraph">
<p>The modified version of the <code>Swimmable</code> interface includes a static method <code>isSummer</code> that checks the current month and returns <code>true</code> if it&#8217;s June, July, or August. I&#8217;m using the Java Date and Time API here. The default method <code>dive</code> calls the static method <code>isSummer</code> and either agrees or disagrees to dive depending on the time of the year.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">import java.time.LocalDate;
import java.time.Month;

public interface Swimmable {

    public void swim(int howFar);

    public default void dive(int howDeep){

        if (isSummer()){
            System.out.println("OK, will dive. The water should be warm.");
        } else {
            System.out.println("Can't dive, sorry. The water's cold for diving.");
        }
    };

    // Check if it's summer now
     static boolean isSummer(){
        Month month = LocalDate.now().getMonth();
        if (month == Month.JUNE || month == Month.JULY || month == Month.AUGUST){
            return true;
        } else{
            return false;
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The method <code>isSummer</code> uses the class <code>LocalTime</code> to get <code>Month</code>, which has a data type <code>enum</code> that I haven&#8217;t used so far. It&#8217;s a special data type to represent a fixed number of some values, like months in this case. There are only 12 months, and Java Date and Time API listed them by name in the <code>enum</code> called <code>Month</code>. The only values that are allowed here are <code>Month.JANUARY</code> to <code>Month.DECEMBER</code>. Using enums makes the programs more readable - it&#8217;s easier to deal with months by names than by numbers.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Packages and import statements</div>
<div class="paragraph">
<p>Java comes with many useful classes that are organized in packages. Some packages include classes responsible for drawing, while other packages have classes to work with the Internet, and so on. For example the class <code>LocalDate</code> is located in the package called <code>java.time</code>, and the full name of the class <code>LocalDate</code> is <code>java.time.LocalDate</code>.</p>
</div>
<div class="paragraph">
<p>To let the compiler know where the class <code>LocalDate</code> is located you could specify the full class name, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">java.time.LocalDate todaysDate = java.time.LocalDate.now();</code></pre>
</div>
</div>
<div class="paragraph">
<p>But this syntax is difficult to read so we use the <code>import</code> statements above the class declaration to let the compiler know the location of the class, interface, or enumeration. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">import java.time.LocalDate;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now you can use just the class name without the need to specify the package name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">LocalDate todaysDate = LocalDate.now();</code></pre>
</div>
</div>
<div class="paragraph">
<p>The packages are stored in directories and subdirectories on the disk. If you see a full class name <code>java.time.LocalDate</code> it means that this class was originally created in the subdirectory <em>time</em> of the directory <em>java</em>.</p>
</div>
<div class="paragraph">
<p>From now on we&#8217;ll use packages and import statement in every chapter of this book. If you want to place your class into a package, just create a subdirectory (e.g. <em>pets</em>) and add a <code>package</code> statement on the top of your class definition, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">package pets;

class Dog{
	// your code goes here
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>One last thing: Lazy kids use the wild cards in import statements. Instead of writing one import statement per class, they would use an asterisk:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">import java.time.*;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This means that definitions needed for my program are located in the package <code>java.time</code>. Of course, writing one import statement instead of several ones looks appealing, but the readability of the program suffers. Packages can have dozens of classes and it&#8217;s better to explicitly state which classes your program uses.</p>
</div>
<div id="FIG5-1-2" class="imageblock">
<div class="content">
<img src=".//images/fig_5-01-2.png" alt="fig 5 01 2">
</div>
<div class="title">Figure 3. Java packages</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_final-static-variables-in-interfaces"><a class="anchor" href="#_final-static-variables-in-interfaces"></a>Final Static Variables in Interfaces</h4>
<div class="paragraph">
<p>Beside method declarations, default and static methods you can add <code>static final</code> variables to the interface declaration.  Such variables can be used by the code inside the interface or in the classes that implements it. For example, the interface <code>Swimmable</code> can define the maximum depth allowed for diving. Here&#8217;s yet another version of the interface <code>Swimmable</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">public interface Swimmable {

    static final MAX_DEPTH = 10; // in feet

    public void swim(int howFar);

    public default void dive(int howDeep){
        if (howDeep &gt; MAX_DEPTH){
           System.out.println("Can't dive, sorry");
        }
    };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>A class that implements <code>Swimmable</code> can use the value of <code>MAX_DEPTH</code> too.</p>
</div>
</div>
<div class="sect3">
<h4 id="_functional-interfaces"><a class="anchor" href="#_functional-interfaces"></a>Functional Interfaces</h4>
<div class="paragraph">
<p>If an interface has only one abstract method declared (default and static methods don&#8217;t count) it&#8217;s called <em>functional interface</em>. Both <code>Talkative</code> and <code>Swimmable</code> are  examples of a functional interface - each has only one abstract method. Java 8 introduced a special way of implementing functional interfaces using lambda expressions, which we&#8217;ll discuss later in this lesson.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_abstract-classes"><a class="anchor" href="#_abstract-classes"></a>Abstract Classes</h3>
<div class="paragraph">
<p>If a method is not implemented we call it abstract. But classes can be declared abstract too, and Java has the keyword <code>abstract</code> for this. An abstract class is called abstract if it was declared with the keyword <code>abstract</code>, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">public abstract class Animal{
    // some code goes here
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If a class declared as abstract, you can&#8217;t create an instance of it. Typically, abstract classes have some non-implemented methods that are also declared with the <code>abstract</code> keyword:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">public abstract class Animal {

    String animalClass;
    String name;

    public void setName(String name){
        this.name = name;
    }

    public void sleep(){
        System.out.println("The " + name +
                " is tired and goes to sleep.");
    }

    abstract public void talk();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The class <code>Animal</code> has two implemented methods: <code>setName</code> and <code>sleep</code> and one abstract method <code>talk</code>. Since the abstract class can not be instantiated, the programmer has to create a descendant class and implement the method <code>talk</code> there if he or she wants to create an instance of such a class, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">public class Dog extends Animal{
    public void talk(){
       System.out.println("Bark! Bark-bark!");
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Strictly speaking, it&#8217;s not a must to implement the method <code>talk</code> in the class <code>Dog</code>, but in this case <code>Dog</code> remains  abstract and can&#8217;t be instantiated. Maybe the programmer wants to create a class <code>Puppy</code> that extends <code>Dog</code> and implement the <code>talk</code> there?</p>
</div>
<div class="paragraph">
<p>And again you might be wondering, "Why complicating programmer&#8217;s life by declaring non-implemented methods?" If you want to build a hierarchy of classes that extend from <code>Animal</code> you might want to declare an unified method signature, so each class (<code>Dog</code>, <code>Parrot</code>, <code>Fish</code> et al.) will have the same way of initiating the talk.</p>
</div>
<div class="sect3">
<h4 id="_what-s-the-difference-between-abstract-classes-and-interfaces"><a class="anchor" href="#_what-s-the-difference-between-abstract-classes-and-interfaces"></a>What&#8217;s the difference between abstract classes and interfaces?</h4>
<div class="paragraph">
<p>Abstract classes and interfaces allow to create classes that implement <em>polymorphism</em>, which is an advanced topic and will not be covered in this book. Abstract classes allow you to implement some common static or instance-specific behavior, e.g. <code>setName</code> and <code>sleep</code> in the vertical class hierarchy.</p>
</div>
<div class="paragraph">
<p>Interfaces can&#8217;t have instance methods, but they don&#8217;t enforce any class hierarchy. So you can have a class <code>Dog</code> that extends any class, while implementing an interface <code>Talkative</code> that declares the method <code>talk</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_anonymous-classes"><a class="anchor" href="#_anonymous-classes"></a>Anonymous Classes</h3>
<div class="paragraph">
<p>If you need to use an object of certain type only once, you can kill two birds with one stone: declare an anonymous class and create an instance of it. In this case you don&#8217;t even need to give a class a name, hence it&#8217;s <em>anonymous</em>. I&#8217;ll show you an example of a program that&#8217;s first written without and then with anonymous classes.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s say I want to write a simple calculator in Java. In chapters 8 and 9 you&#8217;ll create a real calculator with the  graphical Users Interface (GUI). But for now, I&#8217;ll show you how to program such operations as addition and subtraction. The multiplication and division operations can be programmed  similarly, so I won&#8217;t be implementing these operations.</p>
</div>
<div class="paragraph">
<p>I want to keep these examples in the package called <code>calc</code>. You can create a subdirectory named <em>calc</em> in your project and save your classes there. The other choice is to right-click on the folder <em>src</em> in your IDEA project and select the menu New | Package and enter the package name there:</p>
</div>
<div id="FIG5-2" class="imageblock">
<div class="content">
<img src=".//images/fig_5_02.png" alt="fig 5 02">
</div>
<div class="title">Figure 4. Creating a new package in IDEA</div>
</div>
<div class="paragraph">
<p>First comes the version that doesn&#8217;t use anonymous classes - I&#8217;ll just use one method for each operation. The code of the class <code>Calculator</code> is pretty simple. Note the first line that declares the package where the class <code>Calculator</code> belongs.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">package calc;

public class Calculator {

 static double addTwoNumbers (double first, double second){
     double result = first + second;
     System.out.println("" + first + " + " +
                       second + " = " + result  );
     return result;
 }

 static double subtractTwoNumbers (double first, double second){
     double result = first - second;
     System.out.println("" + first + " - " +
             second + " = " + result  );
     return result;
 }

 }

 public static void main(String[] args) {

     addTwoNumbers(3.55, 50.00);
     subtractTwoNumbers(3.55, 50.00);
 }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This class has two methods that manipulate numbers (one per operation), and its <code>main</code> method invokes each method  passing the same values as arguments. After performing the arithmetic operation each method prints the result. Running this program produces the following output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">3.55 + 50.0 = 53.55
3.55 - 50.0 = -46.45</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s redesign this application. Instead of writing a separate method for each operation, I want to write a generic method that can receive the code of the operation and two numbers to be operated upon. This method will have three arguments: the arithmetic operation, the first and the second number.</p>
</div>
<div class="paragraph">
<p>The operation is a behavior, so let&#8217;s declare an interface to represent it using a functional interface with a single abstract method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">package calc;

public interface ArithmeticOperation {

  public double performOperation(double a, double b);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>I&#8217;ll write two implementations of the <code>ArithmeticOperation</code> interface using anonymous classes - one for addition and one for subtraction. I will also write a method <code>calculate</code>   that will take three arguments: the object that implements <code>ArithmeticOperation</code> and two numbers.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">package calc;

public class CalculatorWithAnonymousClasses {

    // The first anonymous class for addition
    static ArithmeticOperation addition = new ArithmeticOperation() {
        public double performOperation(double first, double second) {
            double result = first + second;
            System.out.println("" + first + " * " +
                    second + " = " + result );
            return result;
        }
    };

    // The second anonymous class for subtraction
    static ArithmeticOperation subtraction = new ArithmeticOperation() {
        public double performOperation(double first, double second) {
            double result = first - second;
            System.out.println("" + first + " - " +
                    second + " = " + result );
            return result;
        }
    };


    public static double calculate(ArithmeticOperation whatToDo, double a, double b ){

        return whatToDo.performOperation(a,b);
    }

    public static void main(String[] args) {

        calculate(addition, 3.55, 50.00);
        calculate(subtraction, 3.55, 50.00);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The output of the <code>CalculatorWithAnonymousClasses</code> program will be the same as from <code>Calculator</code>. What did we achieve by re-writing calculator this way? We separated the declaration of the behavior and its implementation. The behavior is declared in the interface, and if more than one class needs to implement <code>ArithmeticOperation</code>, we&#8217;ll reuse this interface. The anonymous classes allowed me to create a wrapper object around the method <code>performOperation</code>, so this object could be passes as an argument to the method <code>calculate</code>. In the next section I&#8217;ll rewrite this calculator again in a more elegant way with lambda expressions.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Access Levels</div>
<div class="paragraph">
<p>In many code samples I&#8217;ve been using the keyword <code>public</code> in declaration of member variables and methods. This means that such a variable or a method can be accesses by any other code from the project. You can declare a class, a method, or a member variable to be <code>public</code>, <code>private</code>, or <code>protected</code>. If one of these keywords is missing, Java compiler assumes that it&#8217;s a <em>package access level</em> - this element can be access only from the code located in the same package ( directory).</p>
</div>
<div class="paragraph">
<p>Lets make a simple experiment  remove the keyword public from the declaration of the class PingPongEngine.  Now the class PingPongTable wont even compile giving an error PingPongEngine can not be resolved or is not a type. This means that the class PingPongTable does not see the class PingPongEngine anymore.</p>
</div>
<div class="paragraph">
<p>Similarly, if  you forget to give a public access to  methods of the class PingPongEngine, the PingPongTable will complain saying that these methods are not visible. Youll see how the access levels are used in the next chapter while creating a ping pong game.</p>
</div>
<div class="paragraph">
<p>The private access level is used to hide class variables or  methods from the outside world. Think of a car  most of the people have no clue how many parts are there under the hood, and what actually happens when a driver pushes the brake pedal.</p>
</div>
<div class="paragraph">
<p>Look at the next code sample - in Java, we can say that the object Car exposes only one public method  <code>brake</code>, which internally  may  call several other methods that a driver does not need to know about. For example, if the driver pushes the brake pedal too hard, the cars computer may apply special anti-lock brakes. I already mentioned before that Java programs control such complicated robots as Mars rovers, let alone simple cars.</p>
</div>
<div class="paragraph">
<p>There is one more Java keyword protected that controls access level. If you use this keyword in a method signature, this method will be visible  inside the class, from  its subclasses, and from other classes located in the same package. But it wont be available for independent classes located in other packages.</p>
</div>
<div class="paragraph">
<p>When you design a  class, hide methods and member variables that should not be visible from outside. If car designers would not hide control of some of the under-the-hood operations, the driver would have to deal with hundreds of buttons, switches and gauges.</p>
</div>
<div class="paragraph">
<p>In the next section you can find a class Score that hides its attributes in private variables.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_lambda-expressions"><a class="anchor" href="#_lambda-expressions"></a>Lambda Expressions</h3>
<div class="paragraph">
<p>Up till now, to invoke a method we&#8217;ve been creating named or anonymous classes and instantiating objects. But lambda expressions allow to define and invoke a piece of code even without the need to declare classes or instantiate objects.</p>
</div>
<div class="paragraph">
<p>First, let me introduce a new term - <em>a function</em>. So far to implement any behavior you&#8217;d write a method that could be invoked by specifying the class name and a method name (static methods) or by specifying the object variable and a method name (non-static methods). This is a main idea of any object-oriented programming language - the classes and objects are the first-class citizens. You can&#8217;t write a program without them.</p>
</div>
<div class="paragraph">
<p>But there are functional programming languages that don&#8217;t need to wrap behavior inside classes. They allow you to implement behavior by writing functions, which are similar to methods in that they can have names, take arguments and return results. But functions don&#8217;t have to be placed inside classes and can live independently.</p>
</div>
<div class="paragraph">
<p>A lambda expression is a function without a name or <em>anonymous function</em> that you can assign to a variable, pass as an argument to a method or return from a method. In earlier versions of Java you could pass a value to a method only if this value was an object or a primitive. But now a function (a piece of code) becomes a value that can be passed around. Let&#8217;s see it in action.</p>
</div>
<div id="FIG5-3" class="imageblock">
<div class="content">
<img src=".//images/fig_5-03.png" alt="fig 5 03">
</div>
<div class="title">Figure 5. The Lambda sign</div>
</div>
<div class="paragraph">
<p>In the new version of calculator I&#8217;ll declare each arithmetic operation as a lambda expression. I will reuse the same functional interface with the three-argument method <code>calcuate</code>, but will pass the lambda expression that implements <code>ArithmeticOperation</code> as the first argument.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">public class CalculatorWithLambdas {

    // Implementing addition as a lambda expression
    static ArithmeticOperation addition=(first, second) -&gt; {
        double result = first + second;
        System.out.println("" + first + " + " +
                second + " = " + result );
        return result;
    };

    // Implementing addition as a lambda expression
    static ArithmeticOperation subtraction = (first, second) -&gt; {
        double result = first - second;
        System.out.println("" + first + " - " +
                second + " = " + result );
        return result;
    };

    public static double calculate(ArithmeticOperation whatToDo, double a, double b ){

        return whatToDo.performOperation(a,b);
    }

    public static void main(String[] args) {

        calculate(addition, 3.55, 50.00);
        calculate(subtraction, 3.55, 50.00);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The difference between <code>CalculatorWithAnonymousClasses</code> from the previous section and <code>CalculatorWithLambdas</code> is that the former implements the functional interface as anonymous classes and the latter as lambdas. Lambda expressions offer a concise way of implementation of functional interfaces. To write a lambda expression you need the play by the following rules:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Declare an the interface that has only one abstract method.</p>
</li>
<li>
<p>Make sure that the arguments of your lambda expression match the argument of the abstract method.</p>
</li>
<li>
<p>Make sure that the return value of your lambda expression matches the return value of the abstract method.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Review the code of the <code>CalculatorWithLambdas</code>. Both lambdas <code>addition</code> and <code>subtraction</code> abide by these rules.</p>
</div>
<div class="paragraph">
<p>You may say, "Why there are no data types specified for the lambda parameters first and second?" The reason being that Java compiler is smart enough to guess their data types because it knows which abstract method this lambda implements. Such an educated guess is called <em>type inference</em>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
IntelliJ IDEA can automatically convert anonymous classes that implement functional interfaces into lambda expressions. Just make sure that your project language level is 8.0. You can do this by selecting the menu File | Project Structure.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_simplifying-code-with-lambdas"><a class="anchor" href="#_simplifying-code-with-lambdas"></a>Simplifying Code With Lambdas</h4>
<div class="paragraph">
<p>Let&#8217;s return to our examples with pets. I&#8217;d like to show you how lambda expressions can simplify your code by reducing the number of required classes. Earlier in this chapter we&#8217;ve created the classes <code>Dog</code>, <code>Parrot</code> and the only difference between them was the implementation of the interface <code>Talkative</code>. But we can declare just one class with a method that can take the implementation of the <code>Talkative</code> in a form of lambda expression.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s start with defining the functional interface <code>Talkative</code>. This time I&#8217;ll slightly change the signature of the method <code>talk</code> comparing to the version shown earlier in this chapter. I do it just to show you how to write a lambda expression that implements a method that has an argument and returns some value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">public interface Talkative {
    public String talk(String petName);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s write the class <code>Pet</code> with a method <code>speakup</code> that will take implementation of the <code>Talkative</code> interface as the first argument and the pet&#8217;s name as a second one. The class <code>Pet</code> may have many other useful methods, but I&#8217;d like to focus on the <code>speakup</code> that can receive a piece of code defining the rules of talking and apply this code.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">public class Pet {

    // Some other code can go here

    public String speakup(Talkative talkRules, String name){
        return talkRules.talk(name);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The only other class we need to create is <code>PetMasterLambda</code> that will create instances of <code>Pet</code> representing both dogs and parrots, but passing different implementation of the <code>Talkative</code> interface. Here it comes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">public class PetMasterLambda {
  public static void main(String[] args) {

     // dogs
     Pet myDog = new Pet();

     Talkative dogTalkRules = (name) -&gt; {
         return  "I'm a dog. My name is " + name;
     };

     System.out.println(myDog.speakup(dogTalkRules, "Sammy"));

     // parrots
     Pet myParrot = new Pet();

     Talkative parrotTalkRules = (name) -&gt; {
         return  "I'm a parrot. Don't call me " + name;
     };

     System.out.println(myDog.speakup(parrotTalkRules, "Charlie"));
     }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We&#8217;ve defined different rules for talking parrots and dogs as lambdas in variables <code>parrotTalkRules</code> and dogTalkRules accordingly. Not that I have not specified the data type of the variable <code>name</code>. It&#8217;s yet another example of the inferred typing - the <code>Talkative</code> interface has a single abstract method with the argument of type <code>String</code>. The second argument of the method <code>speakup</code> will be passed to the method <code>talk</code>. Run this program and it&#8217;ll print the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">I'm a dog. My name is Sammy
I'm a parrot. Don't call me Charlie</code></pre>
</div>
</div>
<div class="paragraph">
<p>By using lambda expressions I was able to eliminate the need of creating a separate class for each animal. Of course, this is possible only if the only difference between classes <code>Dog</code> and <code>Parrot</code> was implementation of the talking behavior.</p>
</div>
<div class="paragraph">
<p>I&#8217;d like to draw your attention to the fact, that my class Pet has no state - it doesn&#8217;t define any class variables. This means that we don&#8217;t even need to create instances of the class <code>Pet</code>, but could simply define its method <code>speakup</code> as <code>static</code> and call it just like this</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">Pet.saySomething(dogTalkRules, "Mary")</code></pre>
</div>
</div>
<div class="paragraph">
<p>In Chapter 9 I&#8217;ll show you more lambda expressions while explaining how to process GUI <em>events</em> such as click on a button or a mouse move. In the Part 2 of the assignment that you&#8217;re about to work on, I&#8217;ll challenge you to re-write the class <code>Pet</code> so it&#8217;ll keep the rules of talking in its class variable.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_project-java-interfaces-and-lambda-expressions"><a class="anchor" href="#_project-java-interfaces-and-lambda-expressions"></a>Project: Java Interfaces and Lambda Expressions</h3>
<div class="paragraph">
<p><strong>Part 1.</strong> In this part you&#8217;ll do an exercise to prove that you understand Java interfaces.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a new IDEA project named <em>chapter5</em>.</p>
</li>
<li>
<p>Create a package named <em>pets</em>.</p>
</li>
<li>
<p>In the package <em>pets</em> recreate the final versions of classes <code>Dog</code>, <code>Fish</code> and interfaces <code>Swimmable</code> and <code>Talkable</code> from the section Interfaces.</p>
</li>
<li>
<p>In the package <em>pets</em> create a new class <code>Pet</code> with a constructor that will take the name of the pet (of type <code>String</code>) as an argument.</p>
</li>
<li>
<p>Change the declarations of the classes <code>Dog</code> and <code>Fish</code> so each of them extends <code>Pet</code> while implementing <code>Talkable</code> and <code>Swimable</code> interfaces.</p>
</li>
<li>
<p>Create the class <code>PetMaster</code> from the section "Interfaces", but give pets names while instantiating classes <code>Dog</code> and <code>Fish</code>.</p>
</li>
<li>
<p>Modify the implementations of the methods <code>talk</code> and <code>swim</code> so they would print the pet&#8217;s name as a part of the output in <code>System.out.println</code>. For example, "My name is Sammy. Bark-Bark-Bark!"</p>
</li>
<li>
<p>Run and test the <code>PetMaster</code> program.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Part 2.</strong> In this part you&#8217;ll do an exercise to prove that you understand the basics of lambda expressions.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the project <em>chapter5</em> create a new package called <em>lambdapets</em>.</p>
</li>
<li>
<p>In the package <em>lambdapets</em> declare the following  <code>Talkative</code> interface:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">public interface Talkative {
    public String talk(String petName);
}</code></pre>
</div>
</div>
</li>
<li>
<p>Create a new version of the class <code>Pet</code> with the constructor that takes the rules of talking and pet&#8217;s name as arguments. Its method <code>speakup</code> will not have arguments. This is how the code of the new <code>Pet</code> should look like:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">public class Pet {

    String name;
    Talkative myTalkingRules;

    Pet(Talkative talkRules, String name){
        this.name = name;
        myTalkingRules = talkRules;
    }

    public String speakup(){

        return myTalkingRules.talk(name);
    }
}</code></pre>
</div>
</div>
</li>
<li>
<p>Write a new version of the class <code>PetMasterLambda</code> that will define talking rules for dogs and parrots. It should create two instances of <code>Pet</code> (one for a dog, and one for a parrot) and invoke the method <code>speakup</code> on each instance.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2015-04-24 05:40:32 EDT
</div>
</div>
</body>
</html>